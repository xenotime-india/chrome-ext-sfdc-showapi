{"version":3,"sources":["helper.js"],"names":["String","prototype","trimEnd","c","this","replace","RegExp","escapeRegExp","trimStart","convertSFDC15To18","sfdcID15","length","s","i","f","j","charAt","subStrAfterChars","str","char","pos","substring","indexOf","getUrlEncodedKey","key","query","window","location","search","matches","exec","decodeURIComponent","setUrlEncodedKey","value","q","re","test","encodeURIComponent","getServerURL","arr","href","split","__getCookie","c_name","x","y","ARRcookies","document","cookie","substr","unescape","showApiName","recordId","sforce","jsforce","Connection","serverUrl","sessionId","describeGlobal","then","res","sobjects","find","item","keyPrefix","currentSobject","sobject","name","describe","jQuery","each","e","field","getColLable","isBlank","getKeyByValue","fields","append","catch","err","console","error","t","clone","children","remove","end","text","first","label","showAlert","mess","sfdcPage","dialogs","SimpleDialog","title","isMovable","displayX","extraClass","width","isModal","createDialog","message","setContentInnerHTML","show"],"mappings":"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","file":"helper.min.js","sourcesContent":["String.prototype.trimEnd = function(c) {\n    if (c)\n        return this.replace(new RegExp(c.escapeRegExp() + \"*$\"), '');\n    return this.replace(/\\s+$/, '');\n};\nString.prototype.trimStart = function(c) {\n    if (c)\n        return this.replace(new RegExp(\"^\" + c.escapeRegExp() + \"*\"), '');\n    return this.replace(/^\\s+/, '');\n};\n\nString.prototype.escapeRegExp = function() {\n    return this.replace(/[.*+?^${}()|[\\]\\/\\\\]/g, \"\\\\$0\");\n};\n\nconvertSFDC15To18 = function(sfdcID15){\n    if (sfdcID15.length == 15) {\n        var s = \"\";\n        for (var i = 0; i < 3; i++) {\n            var f = 0;\n            for (var j = 0; j < 5; j++) {\n                var c = sfdcID15.charAt(i * 5 + j);\n                if (c >= \"A\" && c <= \"Z\")\n                    f += 1 << j;\n            }\n            s += \"ABCDEFGHIJKLMNOPQRSTUVWXYZ012345\".charAt(f);\n        }\n        return sfdcID15 + s;\n    } else {\n        throw \"Error : \" + sfdcID15 + \" has not a length of 15 characters. Current length detected: \" + sfdcID15.length + \" characters.\";\n    }\n};\n\nsubStrAfterChars = function(str, char, pos) {\n    if(pos=='b')\n        return str.substring(str.indexOf(char) + 1);\n    else if(pos=='a')\n        return str.substring(0, str.indexOf(char));\n    else\n        return str;\n};\n\ngetUrlEncodedKey = function(key, query) {\n    if (!query)\n        query = window.location.search;\n    var re = new RegExp(\"[?|&]\" + key + \"=(.*?)&\");\n    var matches = re.exec(query + \"&\");\n    if (!matches || matches.length < 2)\n        return \"\";\n    return decodeURIComponent(matches[1].replace(\"+\", \" \"));\n};\nsetUrlEncodedKey = function(key, value, query) {\n\n    query = query || window.location.search;\n    var q = query + \"&\";\n    var re = new RegExp(\"[?|&]\" + key + \"=.*?&\");\n    if (!re.test(q))\n        q += key + \"=\" + encodeURIComponent(value);\n    else\n        q = q.replace(re, \"&\" + key + \"=\" + encodeURIComponent(value) + \"&\");\n    q = q.trimStart(\"&\").trimEnd(\"&\");\n    return (q[0]==\"?\" ? q : q = \"?\" + q);\n};\n\nvar getServerURL = function() {\n  var url = window.location.href;\n  var arr = url.split(\"/\");\n  return arr[0] + \"//\" + arr[2];\n}\n\nvar __getCookie = function(c_name){\n  var i,x,y,ARRcookies=document.cookie.split(\";\");\n  for (i=0;i<ARRcookies.length;i++){\n    x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(\"=\"));\n    y=ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\")+1);\n    x=x.replace(/^\\s+|\\s+$/g,\"\");\n    if (x==c_name){\n      return unescape(y);\n    }\n  }\n}\n\nshowApiName = function (recordId) {\n  var sforce = new jsforce.Connection({\n    serverUrl : getServerURL(),\n    sessionId : __getCookie('sid')\n  });\n\n  sforce.describeGlobal().then(function(res) {\n    return res.sobjects.find(function (item) {\n        return item.keyPrefix == recordId.substring(0, 3);\n    });\n  }).then(function (currentSobject) {\n    return sforce.sobject(currentSobject.name).describe();\n  }).then(function (value) {\n    jQuery(\"#bodyCell\").find(\".detailList\").each(function() {\n      jQuery(this).find(\"td.labelCol\").each(function() {\n        var e = jQuery(this),\n          field = getColLable(this);\n        if (!isBlank(field)) {\n          var s = getKeyByValue(value.fields, field);\n          isBlank(s) || e.append('<p class=\"Tesforce_Api_Name_JQ\" style=\"padding: 0; color: #999; font-size: 75%; margin: 5px 0; font-weight: normal;\">' + s.name + \"</p>\")\n        }\n      })\n    });\n  }).catch(function (err)  {\n    console.error(err);\n  });\n\n}\n\nvar isBlank = function(e) {\n  return \"undefined\" == typeof e || null === e ? !0 : \"string\" == typeof e && (\"undefined\" === e || \"null\" === e || \"\" === e)\n}\n\nvar getColLable = function(e) {\n  var t = jQuery(e).clone().children().remove().end().text();\n  return isBlank(t) && (t = jQuery(e).children(\":visible\").first().clone().children().remove().end().text()), t\n};\n\nvar getKeyByValue = function (value, field) {\n  return value.find(function (item) {\n    return (item.label === field);\n  })\n}\n\n\nfunction showAlert(mess) {\n    if (sfdcPage.dialogs['SFDCDialog'] == null) { // checking if SFDCDialog modal popup already created on page.\n\n        sfdcPage.dialogs['SFDCDialog'] = new SimpleDialog('SFDCDialog', false); // creating modal popup with name ‘SFDCDialog’\n\n        sfdcPage.dialogs['SFDCDialog'].title = \"Salesforce Deployment Helper - Xenotime\"; // setting title of popup\n\n        sfdcPage.dialogs['SFDCDialog'].isMovable = false; //set true if want movable\n\n        sfdcPage.dialogs['SFDCDialog'].displayX = true; // set true if want close button on header\n\n        sfdcPage.dialogs['SFDCDialog'].extraClass = \"\" // use to set any extra style class if wanted\n\n        sfdcPage.dialogs['SFDCDialog'].width = 346; // set size of popup default = 400\n\n        sfdcPage.dialogs['SFDCDialog'].isModal = true; // set true if want block background.\n\n        sfdcPage.dialogs['SFDCDialog'].createDialog(); // finally call this method to create modal pop up  and append to current page.\n\n    }\n    var message = '<table border=\"0\"><tbody><tr><td style=\"vertical-align: top\"><img src=\"/s.gif\" class=\"confirmLarge\" alt=\"Confirm\"></td><td style=\"padding-left: 8px; vertical-align: top; line-height: 16px\"><p>'+mess+'</p></td></tr></tbody></table>'\n    sfdcPage.dialogs['SFDCDialog'].setContentInnerHTML('<div>' + message + '</div>');\n\n    sfdcPage.dialogs['SFDCDialog'].show();// show modal popup\n}"]}